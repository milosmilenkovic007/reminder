language: php
php:
- 7.1
addons:
  postgresql: '9.4'
install:
- pecl channel-update pecl.php.net
- composer install
env:
  global:
  - DB_CONNECTION=pgsql
  - DB_USERNAME=postgres
  - DB_HOST=localhost
  - DB_DATABASE=appointments
  - APP_ENV=test
  - secure: 0HssvgvnyQE7TEH+L7LoAm9gj4nVoeKnj0KADzhxEUGsOUR5s7gxgQXwNIIVZMHPM6i0h3/mBp94s+Ucm8mohplyg/bR1GS1UuuW/iQ7Q1ACcIonrpoex2L8RU8fayD3Ncch5otsOT91KPrNm7bMo0W36zk5tlDFu8l8wQKP4kvx5YGJvfRZz7CFEZV3+JZ3fnjMW/QphqX/NGxl6dws5cmxNXQcUuH8P4mkCEKIFNOxQKxZjmfdxWAcIqAZgE1j6iUZstxNpY0i9cxVwomz4aHsUS0+25mzSxLNgTx+BQNHQNxGI+EaNiVMTNfe8CjoADNLtOXcmJjt36u+hF3F0EN+ziFviabOnHVNzag8pIjSrJPZAd9SMIyDSnyJfDbzRMRE426Yxusvdm2DhyPTGUNYB1SU4CLTpPDdMqBOdEZ8L4vaFOvULIIiedzAJve0M9BdaMBHfm9beNhHthTS3HvUv6+np/KTI1TZmDQ/i4NnOxwuBBRxtzzxiem6crIO1EoAUwxBIWHax2C1y3dSdHbenPiK8W5mgJkiBXikw8gjSOzxPEe+1JFZytEdSDraOBmEiXT3saBUCBjwF+IrBwMGc6FH4Spx+OsFsyE455DeAGS2ngtLVqDtCH4Z2Fnuidc7GLsQGDwB2Ax4iYu2MBCNQWlSgNTHq2DflI4w9Xg=
  - secure: eteshxnjUL6BOh0IKnqMILS0Nu4EXcRuGNPV+cS1Q36ueOP2Emu2+rp/sAtskYQroaht4v53OieaKNDdtDlksTkgZ5Fgd1M4kjGvU4QhzJGYHKdNOg29tPxJUuiZ4EEKJkXvbJioa/2yEG/SsPExjKnfbiAVNLghpQmoFifxScQw4ArJLXwpx/PROQsa7CvXxNuLkcWvtT4cvyCBzECVSTuVmLSsH3EW0TcgnULMSuHxiPFTj6jizVdY1B37crBI7/45dUVdSR9hPRBhW8AIZYDu+JPbdMFAEfhpweqdqU48Bp5DMSfTLQhmaXFzCLgcYaTD2nu79T7v44CVuLOuK9z2FuD2K7VQjI6ZP+9TeDaiEKwJC9eWpxCfaum74DL2iOsTkvrGcn3RZMf+d6eHaJtfAClLWqsan+KV0XGIWFqA/B/8q6c7igOFwEwwmS5M7lmvx401vv1dC2p8PmoSx5OT6CAmTsQg4B4KLxwMH+cVHmFMWHr0jH99x4Dyich+DLvZ2iocbLR/bz7P6WNyYEy6ZqAVCwepZfUk4XH9mGgDnm+GhZcv5umGKP1wUucTCKTaTJSZy6Uqz1QVfnN4mlo3CcVsJoCsGmFyifRSmaxx4cv1hpxNweA5+1wD9HrhHl0pI4EVB+ZEv1zvglYlP6eMhpehUoEqJa9Rrf/1IAo=
  - secure: b3/IjGoW+N+1XLrmxqW7TpqNUYeRMRK0A26oxqGbQalyzWVQZIQL1aqeILWATkgmp3W0WOJH76Kqkc5YqpQ9S2e9hoynpu22K+/Ipbaam3w8lR3mSD5vhC/prcBLY0YoFLZxgI/vVuHWKlNt6UJc68iNolDvP7UGc6jHM+Wlp0y37MT1e7/PDo4l6xp+2Q+QDSpakgwqsgDnd89OOKgGxH8crXD/S1Wi6DKDT6MsJg0/xYRBHarsEUkAWImUTjYflkOTtpyhV0R8nBF2dQJuMDlM0yx5mMRh5uBbnqkpIilH5/N+M6zWaxuaMXKsAdqesx/N181J6KxoyLj9KlHHgl39QPX6NYvSu1bwr889K24kxCdB62hqD+DKcV6I2Ljv5tWbVP7NVe8MYZ9G3GXgIDwPDX04rfWb/DQQa2mUAUsSCCTu+REmjNws0Yx6OddUQdXQQRXFYv/lVJs7L04sP4E1Xj4kjm5c8bxQqRxXdhlZMZmaW333Alp/uK+l/xUcx9OFJLEucXNruDOzk/Q52uae/Q+qtv+v8wR5HtcJO5n+NH9uGih1FREvx7YN+WAsRGuzEU2wi6LmU2m+lCO3HfvmEkuOeTHnp55QkexBcYGp3pIKfqiIlVc3yl/bx+5lpmyfcPTueAv4aID7ji6gkzDN51nenlPmXUBWrVI1eQ0=
  - secure: PXh7UWMufOBp3OwI5X/JBm3Fkcd13RJjHbiO70qVD8LyIHylpdV+kQ/2r/9GOpZQKwcOEwjidN9w4dTi+7sr1Va+Ds1rMRzSaG/wEUxCW6LkhKsH+nb7omjHuxxs/QO/n7/RM8+N2HmewpQ0uQp4y5wWRF6h1qIsbhdeAe9X79atA9L7n2hYThSJe48VR+LFV/8rocF5J1OkhdNsou7IlFmvXD/xqPaPKtkznOOUyF/ZYHSnBPztJGUZwGX8t4KZDVvW8FrHYJSrDZOzw0KZOtmP3czYa2uUWRMBZfo1jwPGl3T3lMhQOsUA9ZIN7XTVa8no/w+D3EfxnuB2ADVYPOF6U4TFqD/H6fxMpxeMUJpOgONipT5tnWblGAoIwgkJ1WAv5FrxWmfSXxQ1B05tcxURnWCsWuBwuDcigyAFGQwy1zvh3XxnV/cQEe02ICQOvQ1+bZ7ZmXj7kzXNG61PchSAI9pzmd5/PUvmMOwwOhl92pCJ6s1d7oQjT0wlGtqi3b8nqCFvV7JzlPMZl2urOHPEN4gLOXgnIaq6Muuv0BQnDtKvnQQ2emIyGTDtX26Vun+jWb+PYCfcCqq4RbACRBdW5uINUSSnP+jqzTSr2CjibwBps9l5O7gX/J8SGM7Bs0NOYvRIbMfYdiZb5PNmU0os4Bi7sg3gLajmcu9TVk8=
before_script:
- psql -c 'create database appointments;' -U postgres
- php artisan migrate
